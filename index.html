<!DOCTYPE html>
<html lang="en">
<head>
  <title>Matcher</title>
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <link rel="stylesheet" type="text/css" href="styles.css" media="screen" />
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#512da8" />
  <script src="elements.js"></script>
</head>
<body>

<div class="plane">

<header>
  <div class="menu">
    <h1>Matcher</h1>
    <a href="https://github.com/samthor/matcher" target="_blank">About</a>
    <a tabindex="0" id="restart">Restart</a>
  </div>
</header>

</div>

<div class="mid">
  <div class="plane">

<div class="player" id="player">
  <h2>Player</h2>
  <gem-board id="board"></gem-board>
  <h2 style="opacity: 0">.</h2>
</div>

  </div>
</div>

<script>
const appear = _ => {
  const player = document.getElementById('player');

  board.destroy();
  player.classList.add('fade');

  window.setTimeout(_ => {
    const p = player.parentNode;
    player.classList.remove('fade');
    player.remove();
    player.classList.add('offscreen');
    p.appendChild(player);

    board.fill_();  // TODO: ugly?
    player.offsetLeft;
    player.classList.remove('offscreen');
  }, 2000);
};

document.getElementById('restart').addEventListener('click', appear);

</script>

</body>
</html>